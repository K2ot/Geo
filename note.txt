 nie znam się na kartografi 
 czy to jest format danych PUWG1992?

double X	130000		790000	
double Y	160000		862000	
	

z google 62,86 km

CREATE DATABASE "polandDB_xyz"
    WITH 
    ENCODING = 'UTF8'
CREATE EXTENSION postgis;

https://blog.devgenius.io/3-easy-ways-to-import-a-shapefile-into-a-postgresql-database-c1a4c78104af

shp2pgsql -s 4326 -I wojewodztwa.shp redlining_woj  \
| psql -U postgres -d polandDB_xyz


CREATE TABLE punkty_w_PL(
		id_point serial
		, x double precision
		, y double precision
		, z double precision
		, primary key(id_point)
		);



select st_contains(geom, ST_GeomFromText('POINT(531437.64 190547.6)', 4326)) from redlining;

select st_astext(geom) from redlining; -wyświetl w formie ludzkiej nasz poligon ;)

select st_distance(ST_GeomFromText('POINT(567500.23 245396.03)', 4326), ST_GeomFromText('POINT(511241.76 273002.71)', 4326)) as distance;


//zapytanie o odległość 
select
 punkty_w_pl.x, punkty_w_pl.y,
 st_distance(ST_MakePoint(punkty_w_pl.x, punkty_w_pl.y), 
 ST_MakePoint(punkty_w_pl2.x, punkty_w_pl2.y))
 as  distance 
 FROM punkty_w_pl, punkty_w_pl as punkty_w_pl2 WHERE punkty_w_pl2.y > 0;
 
 //zapytanie o odległości gdzie dystans jest poniżej 3000m
SELECT * FROM (
    SELECT punkty_w_pl.x, punkty_w_pl.y,
           st_distance(ST_MakePoint(punkty_w_pl.x, punkty_w_pl.y),
                       ST_MakePoint(punkty_w_pl2.x, punkty_w_pl2.y)) as distance
    FROM punkty_w_pl, punkty_w_pl as punkty_w_pl2
    WHERE punkty_w_pl2.y > 0
) subquery
WHERE distance < 3000;
 
 

 // Przygotuj zapytanie SQL
  std::string sql = "SELECT ST_Distance(ST_MakePoint(1, 1), ST_MakePoint(2, 2)) as distance";

  // Wykonaj zapytanie
  PGresult *res = PQexec(conn, sql.c_str());

  // Sprawdź, czy zapytanie się powiodło
  if (PQresultStatus(res) != PGRES_TUPLES_OK) {
    std::cerr << "Błąd podczas wykonywania zapytania: " << PQerrorMessage(res) << std::endl;
    PQclear(res);
    PQfinish(conn);
    return 1;
  }

  // Pobierz wynik zapytania
  double distance = atof(PQgetvalue(res, 0, 0));

  // Wyświetl odległość w konsoli
  std::cout << "Odległość: " << distance << " metrów" << std::endl;
